@page "/"
@using Controladores
@using LogicaNegocio

@inject NavigationManager NavigationManager
@inject ControladorSesion ControladorSesion

<PageTitle>DepoQuick</PageTitle>

<style>
    .centered-content {
        display: flex; 
        flex-direction: column; 
        align-items: center;
        justify-content: center;
        height: 80vh; 
    }

    .btn {
        font-size: 1.5em;
        padding: 10px 20px;
        width: 200px;
    }
</style>

<div class="centered-content">
    <h1>¡Bienvenido a DepoQuick!</h1>
    
    <h2>Por favor, inicia sesión o regístrate para poder acceder a la aplicación.</h2>

    <div style="margin-top: 20px;">
        <button class="btn btn-danger" @onclick="(() => IniciarSesion())">Iniciar sesión</button>
    </div>

    <div style="margin-top: 20px;">
        <button class="btn btn-danger" @onclick="(() => Registro())">Registrarse</button>
    </div>    
</div>

@code {

    protected override void OnInitialized() {
        if (ControladorSesion.HayUnaSesionIniciada()) {
            NavigationManager.NavigateTo("/MenuPrincipal", true);
        }
    }
    
    private void IniciarSesion() {
        NavigationManager.NavigateTo("/InicioSesion", true);
    }

    private void Registro() {
        NavigationManager.NavigateTo("/Registro", true);
    }

}
